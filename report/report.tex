% Use a modified ACM conference proceedings template
\documentclass[sigconf]{acmart}
% Disable some elements from ACM template
\setcopyright{none}
\settopmatter{printacmref=false,printfolios=false}

\usepackage{booktabs} % For formal tables
\usepackage[ruled,vlined]{algorithm2e}
\usepackage{amsmath} % for writing algorithms

% OWN COMMANDS
\newcommand{\todo}[1]{{\color{red}{#1}}}

% VARIABLES
\usepackage{xspace} % allows \commmand instead of \command{} with correct space afterwards
\newcommand{\VNumSimulations}{20\xspace}
\newcommand{\VNumDays}{1000\xspace}
\newcommand{\VNumPop}{100\xspace}
\newcommand{\VNumTrees}{140\xspace}
\newcommand{\VProbPredator}{0.003\xspace}
\newcommand{\VProbAltruistDies}{0.50\xspace}


\newcommand{\cowards}{\textit{cowards}\xspace}
\newcommand{\coward}{\textit{coward}\xspace}
\newcommand{\altruist}{\textit{altruist}\xspace}
\newcommand{\altruists}{\textit{altruists}\xspace}
\newcommand{\suckers}{\textit{suckers}\xspace}
\newcommand{\sucker}{\textit{sucker}\xspace}
\newcommand{\impostors}{\textit{impostors}\xspace}
\newcommand{\impostor}{\textit{impostor}\xspace}
\newcommand{\greenbeards}{\textit{greenbeards}\xspace}
\newcommand{\greenbeard}{\textit{greenbeard}\xspace}

\usepackage{cleveref}

\begin{document}
    \title{On Trust and Prosociality}

    \author{Fatjon Zogaj}\affiliation{}
    \email{fzogaj@student.ethz.ch}

    \author{Rafael Sterzinger}\affiliation{}
    \email{rsterzinger@student.ethz.ch}

    \begin{abstract}
        \todo{Briefly summarize your report here. This should include a description of the task you are solving, a summary of how you approach the task (i.e. your method), as well as a preview of the central result. The abstract should be short, i.e. 4-5 sentences. The rest of this template outlines a rough structure how you \emph{can} organize your report. It mentions all the components we would typically expect. It is a good idea to adhere these guidelines, but they are not binding, i.e., you are free to re-organize your report as you see fit.}
    \end{abstract}

    \maketitle


    \section{Introduction}\label{sec:introduction}
    \todo{In this section, introduce the task in a bit more detail. In the first paragraph, try to answer why the task is of interest at all and what makes it challenging. You may also discuss some related work here. For example, you can summarize how other researchers have addressed the problem and what might be the disadvantages of these works.}


    The evolution of cooperation is a question which has been bothering humanity for a long time.
    Not only is it open for debate in the fields of anthropology, sociology, and economy but also evolutionary biologist have tried to answer this question on multiple occasions \cite{gardner_theory_2009}.
    Hence, in 2005, at the 125th anniversary issue of the American Association for the Advancement of Science (AAAS) they declared the question "How Did Cooperative Behavior Evolve?" to be one of the top 25 unsolved puzzles science is facing over the next quarter century \cite{aaas_125th_2005}.

    Already in the year \citeyear{darwin_origin_1859}, \citeauthor{darwin_origin_1859}'s natural selection theory tried to explain the underlying mechanisms of a growing population.
    More helpful characteristics that lead to better reproduction will keep on spreading throughout the population.
    This gives off the impression that certain traits will develop in order to optimize an individual's reproducibility (fitness). \citeauthor{fisherGeneticalTheoryNatural1930} builds up on this by introducing the notion of gene frequencies \cite{darwin_origin_1859}.\todo{citation missing/wrong?}
    Genes leading to higher individual fitness thus will increase in frequency and lead to a general increase in mean fitness \cite{fisherGeneticalTheoryNatural1930}.


    \todo{Indirect reciprocity}

    %\todo{In the second half of the introduction, describe your method. This should be more detailed than in the abstract. You can talk about how your method relates to existing work (e.g. it is a combination or extension of existing methods, what other papers were you inspired by, etc.). You should also state the central result here, and the key insight that made it possible to achieve this result. }

    \todo{relate this to related work/experiments}

    In this work, we conduct a variety of experiments to analyze how different levels of cooperation and environment settings affect a population and the development of the respective types/tribes within.
    For this we run \VNumSimulations, each spanning \VNumDays and visualize the average results of those runs.
    The general environment looks as follows.
    Based on a starting population of \VNumPop, these starting agents compete for \VNumTrees possible jobs to win money every day.
    One of these jobs enables up to 2 agents to live on as they can be split, without changing any outcome.
    To simplify the case, we say that if an agent is not able to win any of the $2 \times \VNumTrees$ job option, he goes bankrupt and dies out.
    On top of that, not every one of the jobs is a guaranteed win.
    With a certain probability \VProbPredator an option is considered to be hard and if only one agent has taken on that job, he dies out.
    If there are two agents taking on a hard job, in the general case only one of the two is able to win while the other dies out (randomly chosen).
    This can be thought of as the company offering a hard job only being content with one of the agents and not paying the other.


    \begin{enumerate}
        \item In our first experiment we create a stable environment so that the population without any kind of certain type/tribe logic would stay roughly the same.

        \item Next we introduce altruistic thinking.
        As such, an altruist helps out the other person they are sharing a hard job with.
        By doing so, the other person is able to live on while the helping altruist now has the burden of doing both job options.
        We say that with a certain probability \VProbAltruistDies, the altruist fails and ends up sacrificing themself for the other.
        In the case that they end up succeeding however, it leads to a net-positive regarding the population size as both agents sharing the hard job are then able to live on.

        \item Building up on the previous experiment we introduce a fairer notion, where \greenbeards only help out other \greenbeards.

        \item A final experiment introduces further types next to the altruist.
        The final types are \cowards (never help with hard jobs), \suckers (always help with hard jobs), \impostors (look like altruists, but never help) and  \greenbeards (only help other altruists, aka \impostors and \greenbeards).

    \end{enumerate}

    We analyze these cases with a variety of different parameters which are explained in further detail in \Cref{sec:method} and \Cref{sec:results}.
    % explain in further detail in Method part

    \todo{Mention central results and key insight briefly.}


    \section{Inclusive Fitness}\label{sec:inclusive-fitness}

    Already back in the days when \citeauthor{darwin_origin_1859} developed his theory on the origin of species~\cite{darwin_origin_1859}, the idea of cooperative behaviour stood in contrast to his beliefs of natural selection and the fitness of individuals, that is the reproductive success that allows a species to dominate one another \cite{pennisi_how_2005}.
    Here, the key problem was that maximization of individual fitness does not align with the occurrence of altruistic or spiteful traits as acting cooperatively is costly and therefore would lower their own fitness level \cite{west_altruism_2010}.
    \citeauthor{darwin_origin_1859} later describes scenarios in which altruism could indirectly improve the individual fitness by cooperating among kin, i.e. supporting the transmission of underlying genes \cite{pennisi_how_2005,gardner_theory_2009}.
    This idea was later picked up by \citeauthor{hamilton_kin_1964} who has formalized \citeauthor{darwin_origin_1859}'s idea and proposed \citeauthor{hamilton_kin_1964}'s rule:

    \begin{equation}
        rb-c>0\label{eq:rb-c}
    \end{equation}


    This inequality describes when a specific trait will be favored over another by natural selection.
    Here, $c$ denotes the costs of being altruistic for the actor, $b$ encapsulates the benefit of the altruistic act for the recipient, and $r$ is a measure of the genetic relatedness between the actor and the recipient \cite{west_altruism_2010}.
    This formulation is also known as inclusive fitness which is a composition of direct fitness (\ref{subsec:direct_fit}), i.e. the improvement of individual fitness, and indirect fitness (\ref{indirect_fit}), i.e. enhancing the reproductive success of other genetic related individuals.
    Figure \ref{fig:hamilton} summarizes this composition graphically.

    For the introduction of the different subcategories of direct and indirect fitness, we will borrow definitions from the more recent work by \citeauthor{west_altruism_2010} \cite{west_altruism_2010} instead of the work by \citeauthor{gardner_theory_2009} \cite{gardner_theory_2009}.

    \begin{figure}
        \includegraphics[width=\columnwidth]{figures/hamiltons_rule}
        \caption{\citeauthor{hamilton_kin_1964}'s rule describes inclusive fitness which consists of direct fitness $-c$ and indirect fitness $rb$. With this rule, four basic types of social behaviour can be derived \cite{gardner_theory_2009}.}
        \label{fig:hamilton}
    \end{figure}

    \subsection{Direct Fitness}\label{subsec:direct_fit}

    \subsubsection{Altruism}
    One can differentiate between two different kinds of Altruism.   %source? me lol
    The first refers to the more commonly known general case of selflessness where one helps everyone, regardless of how related they are.
    This is the case which we are analyzing in our earlier experiments, where \altruists help other \altruists and \cowards.
    The other notion of altruism refers to within-kin altruism where one only collaborates with related members of the population (visualized in \Cref{fig:mechanisms} A).
    In our later experiments we also look ah this other case by introducing the notion of \greenbeards which only help other beard-kins \todo{really kins?} out.

    \subsubsection{Reciprocity}\label{reciprocity}
    Compared to regular altruism, Reciprocity cannot be considered truly altruistic, as the underlying mutual benefit is based on reciprocal cooperation and not selflessness~\cite{triversEvolutionReciprocalAltruism1971}.
    In the case where agents help others that have helped them before, cooperation leads to a direct fitness increase.
    This holds only if the short term cost $c$ is smaller than the long term benefit $b$.

    \subsection{Indirect Fitness}\label{indirect_fit}

    \subsubsection{Spite}
    As part of inclusive fitness, the roots behind the theory of altruism can be found.
    On top of that we find a similar mechanism to altruism, that differs in its manifestation.
    Spiteful behaviour can be thought of as acts that harm the recipient (and potentially the actor).
    This way, while the harmed recipient may suffer from reduced fitness, one is able to indirectly cause an increase in fitness for other participants, by removing the recipient from the pool of competition~\cite{hamiltonSelfishSpitefulBehaviour1970}.

    Looking at \Cref{eq:rb-c} we consider the case where the relatedness factor $r$ can be negative.
    A negative value could stand for the fact that the recipient is further from the actor than the average population in relatedness.
    As such, even with a positive $c$ value (actor is harmed) and a negative $b$ value (recipient is harmed), the equation can be fulfilled.
    This is e.g. the case where other participant are more closely related benefit from less competition and the less related recipient gets harmed.
    Looking at \Cref{fig:mechanisms} this is visualized in Quadrant C and can be thought of as altruism towards closer kin~\cite{west_altruism_2010}.

    From the lens of our experiments the sort of \greenbeards we analyze, end up possessing spiteful traits by helping out their own kin (direct altruism), and letting the others die out (direct spite, indirect altruism).
    % summarized up until first paragraph of page 3, still a lot more that can be added

    \subsubsection{Green Beard}
    Compared to the previously mentioned cases of altruism (help out everyone or help out own kin) another form of altruism can be noted.
    According to \citeauthor{hamiltonInnateSocialAptitudes1975} for there to be indirect fitness benefits the occurence of the same genetic strain plays a role and not the kinship itself~\cite{hamiltonInnateSocialAptitudes1975} (\Cref{fig:mechanisms}).
    A certain trait or characteristic can be used to differentiate between sharers of the same gene variation and thus used to decide on whom to help.
    Natural selection here takes place in regard to that certain gene, even with no other common DNA.
    To visualize this, one can think of a gene that is responsible for the growth of a green beard where those affected individuals end up cooperating between themselves~\cite{SelfishGeneRichard}.
    Note that this holds true even if the gene does not manifest itself visually, but leads to association between gene-sharers (e.g. a social gene; social people tend to stick with social people).

    In real life this also opens up the possibility for \textit{falsebeards} which do seem to have inherited the same gene from the outside, but in fact do not end up cooperating as expected.
    We analyze this case in our final experiment by introducing \impostors.

    \cite{west_altruism_2010}
    \cite{bala_green_2017}
    \cite{nowak_five_2006}

    \todo{would not make this an extra section}

    \subsection{Kin Selection}
    Indirect fitness can most easily be observed through interactions with others of the same kin.
    Kin here refers to somebody else sharing the common trait of genes that are inherited from one common ancestor.
    Indirect fitness is often also called \textit{Kin Selection} \cite{west_altruism_2010}.

    \begin{figure}
        \includegraphics[width=\columnwidth]{figures/mechanisms}
        \caption{Altruism, Reciprocity, Spite, and Green Beard: The four mechanisms describe by \citeauthor{hamilton_kin_1964}'s rule \cite{west_altruism_2010}.}
        \label{fig:mechanisms}
    \end{figure}


    \section{Indirect Reciprocity}
    Another important concept is the mechanism of indirect reciprocity which is closely related to direct reciprocity (\Cref{reciprocity}) with the difference that reciprocation comes from another individual who is not the original recipient \cite{alexander_biology_1987,boyd_evolution_1989}.
    The significance of this idea stems from the fact that research belief that indirect reciprocity played a key role in establishing large-scale human societies \cite{roberts_kin_2019}.
    This importance initially arose when the idea of cooperative reputation, e.g. the image scoring strategy or more sophisticated mechanisms such as the standing strategy \cite{leimar_evolution_2001,ohtsuki_leading_2006}, was proposed that provided an explanation on why indirect reciprocity might work \cite{nowak_evolution_1998}.
    Here, the idea is that donors base their decision of whom to donate to on a score which is based on a recipient's reputation which consequently means that cooperation can occur even if the donor, and the recipient have never met.
    Different experiments conducted in the past support this phenomenon \cite{milinski_cooperation_2002, milinski_reputation_2002,milinski_reputation_2016}.

    A very different view on the idea of indirect reciprocity provides the paper by \citeauthor{roberts_kin_2019} \cite{roberts_kin_2019} where he argues that this type of cooperation is rather driven by relatedness instead of actual reciprocity.

    "[...] individuals do not help other helpers to receive something back from third parties; instead, they help because this features the spread of a stratgy of helping those who help others [...]" \cite{roberts_kin_2019}

    \cite{nowak_five_2006}

    \citeauthor{roberts_kin_2019} argues that image scoring has inconsistencies
    This idea of indirect reciprocity being related to kin selection is summarized in \Cref{fig:indirect_reciprocity}.

    \begin{figure*}
        \includegraphics[width=\textwidth]{figures/indirect_reciprocity}
        \caption{The relation/similarity between direct and indirect recprocity, and image scoring and relatedness \cite{roberts_kin_2019}.}
        \label{fig:indirect_reciprocity}
    \end{figure*}


    \section{Hypothesis}
    Key question, how does misinformation or deception influence cooperation.


    \section{Related Work}
    \todo{
    This section is optional and it is fine to leave it out completely. While the most relevant papers should be discussed adequately somewhere (e.g. in the introduction), we do not expect you to give a complete overview of related work. Nonetheless, if you would like to do so, this would be the place to do it.

    Generally, use the \texttt{{\char'134}cite} command to cite other works, e.g. \cite{Douglass98,Harel79}. To add a new reference, you need to add a bibtex entry to the bibliography file, in this case \texttt{bibliography.bib}.
    }
    \cite{wallace_misinformation_1973}
    \cite{west_altruism_2010}(\cite{keller_selfish_1998})

    connection from image scoringn to greenbeards/kin selection
    \cite{roberts_kin_2019} -> maybe to reciprocity -> also to method descirbes why we deviate from our initial proposal
    \cite{szamado_deception_2016}\cite{noauthor_indirect_nodate}\cite{bhui_how_2019}


    \section{Method}\label{sec:method}


    \subsubsection*{Experiment 1: Stable Environment}
    \subsubsection*{Experiment 2: General Altruism}
    \subsubsection*{Experiment 3: Greenbeard Altruism}
    \subsubsection*{Experiment 4: On Trust and More}


    \todo{
    This section should describe the method of your \emph{final} submission in detail. This includes things you did with the data (e.g. preprocessing, augmentations, changes of representation, etc.) and the actual definition of your model. Sometimes it is fine to describe a model in text or math only, sometimes it is better to create an overview figure. Either way, after reading this section, a reader should be able to implement your architecture.
    If you have enough space, you may list hyperparameter values in an ``Implementation Details'' paragraph. Otherwise list them in the README of your code repo.
    }

    Algorithms regarding matching
    \cite{geffen_efficient_2017}
    \todo{average birth and death rate per day. this would illustrate why convergence is rather slow}

    As our first step, we create an environment so that our population neither goes extinct, nor explodes in size within the 1000 day timeframe we have set.
    As can be seen in \Cref{fig:stable_pop} averaging over \VNumSimulations runs, the starting population of 100 stays roughly the same.
    \todo{Info about params}

    \begin{figure}
        \includegraphics[width=\columnwidth]{figures/stable_population}
        \caption{While there are big deviations, on average the population stays roughly the same.
        Visualized are \VNumSimulations random runs in light grey and their average in blue. }
        \label{fig:stable_pop}
    \end{figure}

    We now introduce a more sophisticated way of survival by introducing concepts of collaboration.
    For this, we build up on our previous experiment but change the outcome when agents arrive at a predatory tree.
    If one agents arrives, it gets eaten immediately.
    In the case that two agents arrive, one of the two gets randomly chosen to be eaten.
    We differentiate between the following two cases.
    If the surviving agent is of type \coward, he runs away and lets the other one die.
    If however the survivor is an \altruist, it helps out the eaten one by yelling and putting from the other agent onto himself.
    As such the originally to-be-eaten one is able to survive and with a probability of 50\%, the \altruist also gets away unscathed.

    \todo{add code with logic}

    A first run shows that, as expected, introducing altruistic thinking leads to an increase in population size, visualized in \Cref{fig:alt_cow_total}.

    \begin{figure}
        \includegraphics[width=\columnwidth]{figures/alt_cow_increase_total}
        \caption{\todo{leave this figure in as it shows that the total population varies a lot which cannot be seen as easily in plot 3}
        \todo{maybe set the same y-axis }
        }
        \label{fig:alt_cow_total}
    \end{figure}

    We further analyze how this effect gets spread between the two types of agents.
    In \Cref{fig:alt_cow_separated} we see that the amount of \altruists stays on average roughly the same, while the population in general increases.
    This also shows that the amount of \cowards steadily increases.
    A potential explanation for this could be that in general the birth-rate for the \altruists is roughly the same as their die-off rate given their altruistic sacrifices.
    The cowards on the other hand, while having the same birth-rate, experience lower die-off-rates due to running away from a predator.
    If we compare this to the original experiment without any altruism (\Cref{fig:stable_pop}), we see that this altruistic thinking has a large net-positive effect.
    This is the case even though the \altruists do not differentiate between who they save.
    \todo{play around with settings so that they do die out and the following experiment makes more sense}

    \begin{figure}
        \includegraphics[width=\columnwidth]{figures/alt_cow_increase_separated}
        \caption{\todo{}}
        \label{fig:alt_cow_separated}
    \end{figure}

    In the following \Cref{fig:alt_cow_separated_rel} we see how these different types stack against each other when compared in relative terms.
    A slight downward trend can be made out.


    \begin{figure}
        \includegraphics[width=\columnwidth]{figures/alt_cow_increase_separated_rel}
        \caption{\todo{}}
        \label{fig:alt_cow_separated_rel}
    \end{figure}

    In the previous experiments we have seen that the cowards experience an increase in population, while the \altruists themselves do not benefit all too much.
    To fix this unfairness/inequality and introduce another experiment we consider the case where \altruists only help each other out.
    This should ensure that the population of the \altruists are able to hold together and increase in size while the number of non-cooperative \cowards gets reduced.

    Looking at \Cref{fig:alt_ego} we can see that this hypothesis is the case.
    We see that there's a general positive trend to be made out.
    This can further be seen in \Cref{fig:alt_ego_rel} where we have plotted the relative distribution of the different types.
    On average a slight relative population increase of the \altruists can be observed.




    \begin{figure}
        \includegraphics[width=\columnwidth]{figures/alt_ego}
        \caption{\todo{}}
        \label{fig:alt_ego}
    \end{figure}


    \begin{figure}
        \includegraphics[width=\columnwidth]{figures/alt_ego_rel}
        \caption{\todo{}}
        \label{fig:alt_ego_rel}
    \end{figure}


    \section{Results}\label{sec:results}
    \todo{
    In the evaluation section you should describe the experiments that support the claims of the story of your report. For example, if you previously said ``We propose to combine model A with component B which leads to improved accuracy.'' you should back this up with experimental evidence here. Typically, this means that you should show the performance of model A with and without component B. May be your method warrants other kinds of such ablation studies, which you might include and describe here.

    }


    \section{Discussion}\label{sec:discussion}
    \todo{
    Sometimes you might have had a great idea, but it did not pan out. Since we want to encourage novelty, such failed attempts should also go into the report. This section is a suitable place to discuss this. If you can, do not just list failed attempts, but actually \emph{discuss} them, i.e., provide an intuition why you think they failed or what the problem is that prevented them from performing better. It is much better to describe one failed attempt and discuss it in-depth than just listing four failed models without any explanation.

    If you do not have failed attempts that would warrant their own section, this is perfectly fine. You may discuss the experiments from the previous section here, or if you prefer to have the discussion the evaluation section directly, feel free to omit this section entirely.

    }


    \section{Conclusion}\label{sec:conclusion}
    \todo{
    Conclude your report with a brief summary. This can be very short, i.e. 2-3 sentences.
    }
    \bibliographystyle{ACM-Reference-Format}
    \bibliography{bibliography}

\end{document}
